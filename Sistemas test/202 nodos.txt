# Cantidad de nodos.
cantidad_nodos = 33

# Definir los datos del sistema de 14 barras.
nref = 1          # Nodo de referencia
vref = 1.0         # Tensión en la subestación (pu)
vbase = 13.8       # Tensión base (kV)
sbase = 1000     # Potencia base (kVA) potencia aparente base
tol = 1e-8         # Tolerancia del error permitido
vmin = 0.93        # Tensión mínima (pu), paso a kV
vmax = 1.05        # Tensión máxima (pu), paso a kV

# Base de impedancia.
zbase = 1000*((vbase**2)/sbase)

# Datos de ramas
#              de   para  R(ohm)  X(ohm)
ramas = """ 2        3        1      0.01883        0.04232         
            3        4        2     0.065905        0.14812         
            4        5        3      0.03766        0.08464         
            6        7        4     0.016947       0.038088         
            7       10        5      0.01883        0.04232         
           17       18        6     0.074728        0.03912         
           17       19        7      0.18682         0.0978         
           19       20        8     0.074728        0.03912         
           21       22        9     0.041426       0.093104         
           23       24       10      0.00659       0.014812       
           24       25       11      0.00659       0.014812       
           29       30       12     0.046705        0.02445       
           30       31       13     0.046705        0.02445       
           31       32       14     0.046705        0.02445       
           32       33       15     0.059416        0.02026       
           32       34       16     0.089124        0.03039       
           29       35       17      0.09341         0.0489       
           40       41       18     0.037135       0.012663       
           40       26       19     0.009415        0.02116       
           40       42       20     0.009415        0.02116       
           42       45       21     0.059416        0.02026       
           42       43       22     0.009415        0.02116       
           43       44       23     0.009415        0.02116       
           44       50       24     0.014122        0.03174       
           50       51       25     0.013181       0.029624       
           51       52       26     0.011298       0.025392       
           52       53       27     0.011298       0.025392       
           53       54       28     0.011298       0.025392       
           54       55       29     0.011298       0.025392       
            5        8       30      0.01883        0.04232       
            9        6       31      0.01883        0.04232       
           10       13       32      0.01883        0.04232       
           14       21       33      0.03766        0.08464       
           27       26       34     0.024479       0.055016       
           15       12       35      0.05935        0.04654       
           11       17       36      0.09341         0.0489       
           16       11       37     0.046705        0.02445       
           28       29       38     0.065387        0.03423       
           36       38       39     0.037364        0.01956       
           39       37       40     0.037364        0.01956       
           48       46       41     0.037135       0.012663       
           49       47       42     0.037135       0.012663       
           58       55       43      0.07427       0.025325       
           56       57       44     0.103978       0.035455       
           59       60       45      0.01597        0.04095       
           62       63       46     0.041522        0.10647       
           63       65       47     0.019164        0.04914       
           70       71       48     0.111405       0.037988       
           72       73       49     0.081697       0.027858       
           70       75       50     0.020713       0.046552       
           75       77       51     0.011298       0.025392       
           77       79       52     0.007532       0.016928       
           93       94       53     0.056046       0.027924       
           94       95       54     0.028023       0.013962       
           95       96       55     0.028023       0.013962       
           96       97       56     0.028023       0.013962       
           97       98       57     0.051375       0.025597       
           79       81       58     0.009415        0.02116       
           84       85       59     0.013181       0.029624       
           84       86       60     0.004707        0.01058       
           86       87       61     0.005649       0.012696       
           87       88       62     0.009415        0.02116       
           88       99       63     0.020713       0.046552       
          100      102       64     0.005649       0.012696       
          100      101       65     0.014122        0.03174       
          102      107       66      0.00659       0.014812       
          107      108       67     0.010356       0.023276       
          102      105       68     0.004707        0.01058       
          105      106       69     0.005649       0.012696       
          106      109       70     0.011298       0.025392       
          110      111       71     0.007532       0.016928       
          111      112       72     0.007532       0.016928       
          112      114       73     0.007532       0.016928       
          114      115       74     0.005649       0.012696       
          115      116       75     0.007532       0.016928       
          116      117       76     0.009415        0.02116       
          114      119       77     0.007532       0.016928       
          119      120       78     0.007532       0.016928       
          120      121       79      0.00659       0.014812       
          121      122       80     0.005649       0.012696       
          124      125       81     0.015064       0.033856       
          125      127       82     0.009415        0.02116       
          127      128       83     0.009415        0.02116       
          127      129       84     0.015064       0.033856       
          129      130       85     0.013181       0.029624       
          130      131       86     0.013181       0.029624       
           60       61       87     0.099014        0.25389       
           64       70       88      0.01883        0.04232       
           81       82       89     0.011298       0.025392       
          126      123       90     0.065387        0.03003       
           66       67       91      0.01597        0.04095       
           68       69       92     0.133686       0.045585       
           74       72       93     0.133686       0.045585       
           78       76       94     0.163394       0.055715       
           83       80       95     0.126259       0.043053       
           90       91       96     0.178248        0.06078       
           89       92       97     0.111405       0.037987       
          103      104       98      0.07427       0.025325       
          113      118       99     0.051989       0.017727       
          131      132      100     0.016947       0.038088      
          135      136      101     0.015064       0.033856      
          136      138      102     0.060256       0.135424      
          139      140      103     0.020713       0.046552      
          140      142      104     0.009415        0.02116      
          142      143      105     0.005649       0.012696      
          143      152      106     0.005649       0.012696      
          152      154      107     0.005649       0.012696      
          154      155      108     0.005649       0.012696      
          155      156      109     0.005649       0.012696      
          156      158      110     0.005649       0.012696      
          158      159      111     0.028023        0.01467      
          159      160      112     0.046705        0.02445      
          158      161      113     0.009415        0.02116      
          163      165      114      0.01883        0.04232      
          165      167      115     0.005649       0.012696      
          167      168      116     0.005649       0.012696      
          168      169      117     0.007532       0.016928      
          171      172      118      0.07122       0.055848      
          171      173      119     0.009415        0.02116      
          173      174      120     0.009415        0.02116      
          174      176      121     0.009415        0.02116      
          176      178      122     0.003766       0.008464      
          178      179      123     0.003766       0.008464      
          179      180      124     0.005649       0.012696      
          182      183      125     0.046705        0.02445      
          182      185      126     0.005649       0.012696      
          185      186      127     0.005649       0.012696      
          186      187      128     0.005649       0.012696      
          187      190      129     0.005649       0.012696      
          190      193      130     0.022596       0.050784      
          193      194      131     0.065387        0.03423      
          193      195      132     0.046705        0.02445      
          195      196      133     0.046705        0.02445      
          196      197      134     0.046705        0.02445      
          197      200      135     0.046705        0.02445      
          200      201      136     0.112092        0.05868      
          200      202      137      0.09341         0.0489      
          193      198      138     0.009415        0.02116      
          198      199      139     0.009415        0.02116      
          137      138      140     0.009415        0.02116      
          133      134      141     0.069671       0.156584      
          161      164      142     0.011298       0.025392      
          147      148      143     0.074728        0.03912      
          148      145      144     0.056046        0.02934      
          151      150      145     0.046705        0.02445      
          144      141      146     0.028023        0.01467      
          157      153      147     0.037364        0.01956      
          166      170      148     0.065387        0.03423      
          175      177      149     0.074728        0.03912      
          181      184      150     0.060717       0.031785      
          189      192      151     0.050448       0.039559      
          188      191      152     0.038578       0.030251      
          146      149      153     0.037364        0.01956      
            1        2      154            0              0      
            1      133      155            0              0      
          134      135      156            0              0      
          138      147      157            0              0      
          146      145      158            0              0      
          148      151      159            0              0      
          138      139      160            0              0      
          140      144      161            0              0      
          152      157      162            0              0      
          164      162      163            0              0      
          162      163      164            0              0      
          165      170      165            0              0      
          169      171      166            0              0      
          176      175      167            0              0      
          180      182      168            0              0      
          182      181      169            0              0      
          190      188      170            0              0      
          190      189      171            0              0      
            8        9      172            0              0      
           10       16      173            0              0      
           10       15      174            0              0      
           13       14      175            0              0      
           22       23      176            0              0      
           25       28      177            0              0      
           35       38      178            0              0      
           35       39      179            0              0      
           25       27      180            0              0      
           45       48      181            0              0      
           45       49      182            0              0      
           58       56      183            0              0      
            1       59      184            0              0      
           61       62      185            0              0      
           65       66      186            0              0      
           67       68      187            0              0      
           63       64      188            0              0      
           70       74      189            0              0      
           75       78      190            0              0      
           79       83      191            0              0      
           79       90      192            0              0      
           91       89      193            0              0      
           91       93      194            0              0      
           99      100      195            0              0      
          102      104      196            0              0      
          109      110      197            0              0      
          114      113      198            0              0      
          122      123      199            0              0      
          122      124      200            0              0                
           84       82      201            0              0
                 
            4      136      202            0              0     
           10      160      203            0              0     
           17      172      204            0              0     
           21      183      205            0              0     
           25      194      206            0              0     
           55      201      207            0              0     
            2       59      208            0              0     
           34       22      209            0              0     
           57       41      210            0              0     
           62      137      211            0              0     
          108      162      212            0              0     
          117      162      213            0              0     
          126      165      214            0              0     
          128      171      215            0              0     
          132      202      216            0              0     
"""
              
# Demanda de potencia activa y reactiva en las barras
#           barra Pd(kW)  Qd(kW) Qbc(kW)
data_barras = """
              1            0             0        0
        2            0             0        0
        3        38.25          23.7        0
        4            0             0        0
        5        63.75          39.5        0
        6        38.25          23.7        0
        7         95.2         58.99        0
        8            0             0        0
        9            0             0        0
       10        63.75          39.5        0
       11        63.75          39.5        0
       12        510.0        316.02        0
       13            0             0        0
       14            0             0        0
       15            0             0        0
       16            0             0        0
       17        127.5         79.01        0
       18        63.75          39.5        0
       19        63.75          39.5        0
       20        255.0        158.01        0
       21            0             0        0
       22            0             0        0
       23        255.0        158.01        0
       24        255.0        158.01        0
       25        382.5        237.02        0
       26       191.25        118.51        0
       27            0             0        0
       28            0             0        0
       29         51.0          31.6        0
       30        95.63         59.25        0
       31        95.63         59.25        0
       32            0             0        0
       33       350.63        217.26        0
       34       350.63        217.26        0
       35            0             0        0
       36        95.63         59.25        0
       37        63.75          39.5        0
       38            0             0        0
       39            0             0        0
       40            0             0        0
       41        255.0        158.01        0
       42            0             0        0
       43       191.25        118.51        0
       44        95.63         59.25        0
       45            0             0        0
       46       605.63        375.27        0
       47        63.75          39.5        0
       48            0             0        0
       49            0             0        0
       50       573.75        355.52        0
       51       191.25        118.51        0
       52        255.0        158.01        0
       53        765.0        474.03        0
       54        255.0        158.01        0
       55            0             0        0
       56       318.75        197.51        0
       57       318.75        197.51        0
       58            0             0        0
       59            0             0        0
       60         25.5          15.8        0
       61            0             0        0
       62            0             0        0
       63            0             0        0
       64            0             0        0
       65        95.63         59.25        0
       66            0             0        0
       67        38.25          23.7        0
       68            0             0        0
       69        102.0          63.2        0
       70            0             0        0
       71        89.25          55.3        0
       72            0             0        0
       73        38.25          23.7        0
       74            0             0        0
       75            0             0        0
       76        510.0        316.02        0
       77        595.0        368.69        0
       78            0             0        0
       79            0             0        0
       80       350.63        217.26        0
       81        382.5        237.02        0
       82            0             0        0
       83            0             0        0
       84            0             0        0
       85        38.25          23.7        0
       86        255.0        158.01        0
       87       446.25        276.52        0
       88        382.5        237.02        0
       89            0             0        0
       90            0             0        0
       91            0             0        0
       92        95.63         59.25        0
       93       191.25        118.51        0
       94       216.75        134.31        0
       95        95.63         59.25        0
       96       191.25        118.51        0
       97        63.75          39.5        0
       98        382.5        237.02        0
       99            0             0        0
      100            0             0        0
      101        63.75          39.5        0
      102            0             0        0
      103        63.75          39.5        0
      104            0             0        0
      105        127.5         79.01        0
      106        95.63         59.25        0
      107       106.25         65.84        0
      108        127.5         79.01        0
      109        95.63         59.25        0
      110            0             0        0
      111        127.5         79.01        0
      112        127.5         79.01        0
      113            0             0        0
      114            0             0        0
      115       318.75        197.51        0
      116       350.63        217.26        0
      117       446.25        276.52        0
      118        63.75          39.5        0
      119        127.5         79.01        0
      120        63.75          39.5        0
      121        382.5        237.02        0
      122            0             0        0
      123         76.5          47.4        0
      124        255.0        158.01        0
      125       191.25        118.51        0
      126        255.0        158.01        0
      127       233.75        144.84        0
      128       573.75        355.52        0
      129       276.25        171.18        0
      130        255.0        158.01        0
      131       393.13         243.6        0
      132        510.0        316.02        0
      133            0             0        0
      134            0             0        0
      135            0             0        0
      136            0             0        0
      137            0             0        0
      138            0             0        0
      139        63.75          39.5        0
      140            0             0        0
      141        63.75          39.5        0
      142        38.25          23.7        0
      143        38.25          23.7        0
      144            0             0        0
      145            0             0        0
      146            0             0        0
      147            0             0        0
      148        63.75          39.5        0
      149        95.63         59.25        0
      150        63.75          39.5        0
      151            0             0        0
      152            0             0        0
      153        63.75          39.5        0
      154        63.75          39.5        0
      155        212.5        131.68        0
      156        63.75          39.5        0
      157            0             0        0
      158            0             0        0
      159        63.75          39.5        0
      160        38.25          23.7        0
      161        63.75          39.5        0
      162            0             0        0
      163        95.63         59.25        0
      164            0             0        0
      165            0             0        0
      166       605.63        375.27        0
      167       446.25        276.52        0
      168       191.25        118.51        0
      169        255.0        158.01        0
      170            0             0        0
      171        63.75          39.5        0
      172        127.5         79.01        0
      173        63.75          39.5        0
      174       191.68        118.77        0
      175            0             0        0
      176            0             0        0
      177       208.25        129.04        0
      178       191.25        118.51        0
      179        127.5         79.01        0
      180        127.5         79.01        0
      181            0             0        0
      182            0             0        0
      183        255.0        158.01        0
      184        127.5         79.01        0
      185        850.0         526.7        0
      186        127.5         79.01        0
      187        510.0        316.02        0
      188            0             0        0
      189            0             0        0
      190            0             0        0
      191        127.5         79.01        0
      192       448.38        277.83        0
      193        255.0        158.01        0
      194        510.0        316.02        0
      195        382.5        237.02        0
      196        255.0        158.01        0
      197       191.25        118.51        0
      198       446.25        276.52        0
      199       133.88         82.96        0
      200        95.63         59.25        0
      201        382.5        237.02        0
      202       1030.2        638.36        0
"""
